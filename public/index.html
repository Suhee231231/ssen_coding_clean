<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>쎈코딩 - 4지 선다형 문제로 익히는 코딩</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="4지 선다형 문제로 익히는 코딩 학습 플랫폼. JavaScript, Python, Java, C#, PHP, SQL 등. 문제를 풀며 자연스럽게 개념과 문법을 익힐 수 있습니다.">
    <meta name="keywords" content="쎈코딩, 쎈 코딩, SSEN CODING, 코딩, 프로그래밍, HTML, CSS, JavaScript, Python, 개발자, 코딩테스트, 코딩학습, 코딩 독학, 객관식, 코딩문제, 코딩연습">
    <meta name="author" content="쎈코딩">
    <meta name="robots" content="index, follow">
    <meta name="googlebot" content="index, follow">
    <link rel="canonical" href="https://ssencoding.com/">
    
    <!-- Open Graph Meta Tags (Facebook, LinkedIn) -->
    <meta property="og:title" content="쎈코딩 - 4지 선다형 문제로 익히는 코딩">
    <meta property="og:description" content="문제를 풀며 자연스럽게 개념과 문법을 익힐 수 있는 코딩 학습 플랫폼">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://ssencoding.com">
    <meta property="og:site_name" content="쎈코딩">
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="쎈코딩 - 4지 선다형 문제로 익히는 코딩">
    <meta name="twitter:description" content="문제를 풀며 자연스럽게 개념과 문법을 익힐 수 있는 코딩 학습 플랫폼">
    
    <!-- Google Search Console Verification -->
    <meta name="google-site-verification" content="L-O_FTfPWn2JigkeFa83x7GbbbYqzqXuEXIM3fqOt4o" />
    
    <!-- Naver Search Advisor Verification -->
    <meta name="naver-site-verification" content="434934d6f7e22b8d2a6525d7196c6363299d53ed" />
    
    <!-- Structured Data (JSON-LD) -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebSite",
        "name": "쎈코딩",
        "description": "4지 선다형 문제로 익히는 코딩 학습 플랫폼",
        "url": "https://ssencoding.com",
        "potentialAction": {
            "@type": "SearchAction",
            "target": "https://ssencoding.com/problems.html?subject={search_term_string}",
            "query-input": "required name=search_term_string"
        }
    }
    </script>
    <!-- 파비콘 설정 -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico?v=4">
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=4">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png?v=4">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png?v=4">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png?v=4">
    <link rel="manifest" href="/site.webmanifest?v=4">
    <meta name="msapplication-TileColor" content="#00d4aa">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png?v=4">
    <meta name="theme-color" content="#00d4aa">
    <link rel="stylesheet" href="/css/style.css?v=1.1">
    <style>
        /* Critical CSS - 초기 렌더링에 필요한 스타일 */
        .hero { background: #282A35; color: white; padding: 4rem 0; text-align: center; }
        .hero-content h1 { font-size: 3rem; font-weight: 900; margin-bottom: 1rem; }
        .hero-content p { font-size: 1.2rem; margin-bottom: 2rem; }
        .stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 2rem; margin: 3rem 0; }
        .stat-card { background: white; padding: 2rem; border-radius: 12px; text-align: center; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .stat-number { font-size: 2.5rem; font-weight: 700; color: #00d4aa; margin-bottom: 0.5rem; }
        .subject-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem; margin: 3rem 0; }
        .subject-card { background: white; border-radius: 12px; overflow: hidden; box-shadow: 0 2px 10px rgba(0,0,0,0.1); cursor: pointer; transition: transform 0.3s ease; }
        .subject-card:hover { transform: translateY(-5px); }
        .loading { opacity: 0.6; }
    </style>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Asta+Sans:wght@300..800&display=swap" rel="stylesheet">
    
    <!-- Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3234639988304541"
         crossorigin="anonymous"></script>
    
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-48M7M3KBV0"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-48M7M3KBV0');
    </script>
    <script>
      (function(d) {
        var config = {
          kitId: 'web7wnn',
          scriptTimeout: 3000,
          async: true
        },
        h=d.documentElement,t=setTimeout(function(){h.className=h.className.replace(/\bwf-loading\b/g,"")+" wf-inactive";},config.scriptTimeout),tk=d.createElement("script"),f=false,s=d.getElementsByTagName("script")[0],a;h.className+=" wf-loading";tk.src='https://use.typekit.net/'+config.kitId+'.js';tk.async=true;tk.onload=tk.onreadystatechange=function(){a=this.readyState;if(f||a&&a!="complete"&&a!="loaded")return;f=true;clearTimeout(t);try{Typekit.load(config)}catch(e){}};s.parentNode.insertBefore(tk,s)
      })(document);
    </script>
</head>
<body>
    <header>
        <nav>
            <div class="nav-container">
                <h2 class="logo"><a href="/" style="text-decoration: none; color: inherit;"><span class="logo-highlight">쎈</span><span class="logo-underline">코</span>딩</a></h2>
                <div class="nav-links" id="navLinks">
                    <!-- JavaScript로 동적 생성 -->
                </div>
            </div>
        </nav>
    </header>
    <main>
        <section class="hero">
            <div class="hero-content">
                <h1>쎈코딩 - 4지 선다형 문제로 익히는 코딩</h1>
                <p class="hero-main-text" style="font-weight: normal;">쎈코딩은 문제를 풀기 위한 선수 지식이 없어도 괜찮습니다. 문제를 풀며 자연스럽게 개념과 문법을 익힐 수 있습니다.</p>
                <p class="hero-main-text" style="font-weight: normal;">쎈코딩의 과목은 지속적으로 추가, 업데이트됩니다.</p>
                <div class="hero-stats">
                    <div class="stat">
                        <span class="stat-number" id="totalProblems">로딩중...</span>
                        <span class="stat-label">문제</span>
                    </div>
                    <div class="stat">
                        <span class="stat-number" id="totalSubjects">로딩중...</span>
                        <span class="stat-label">과목</span>
                    </div>
                    <div class="stat">
                        <span class="stat-number" id="latestUpdate">로딩중...</span>
                        <span class="stat-label">최종수정일</span>
                    </div>
                </div>
            </div>
        </section>
        <section class="subjects">
            <div class="container">
                <div class="subject-grid" id="subjectGrid">
                    <!-- JavaScript로 동적 생성 -->
                </div>
            </div>
        </section>

    </main>
    <footer>
        <div class="container">
            <p>&copy; 쎈코딩 (SSEN CODING). All Rights Reserved.</p>
            <p>Contact: ssencoding@gmail.com</p>
            <p>쎈코딩은 4지 선다형 문제로 코딩을 배우는 학습 플랫폼입니다.</p>
        </div>
    </footer>

    <script src="/js/common.js"></script>
    <script>

        // 통계 데이터 로드 (최적화된 버전)
        async function loadStats() {
            // 로딩 상태 표시
            const statsElements = ['totalProblems', 'totalSubjects', 'latestUpdate'];
            statsElements.forEach(id => {
                const element = document.getElementById(id);
                if (element) {
                    element.textContent = '로딩중...';
                }
            });

            try {
                // 통계만 별도로 가져오는 API 호출
                const response = await fetch('/api/problems/stats');
                const data = await response.json();
                
                if (data.success) {
                    const totalProblemsElement = document.getElementById('totalProblems');
                    const totalSubjectsElement = document.getElementById('totalSubjects');
                    const latestUpdateElement = document.getElementById('latestUpdate');
                    
                    if (totalProblemsElement) {
                        totalProblemsElement.textContent = data.totalProblems || 0;
                    }
                    
                    if (totalSubjectsElement) {
                        totalSubjectsElement.textContent = data.totalSubjects || 0;
                    }
                    
                    let latestUpdateText = '업데이트 없음';
                    if (data.latestUpdate) {
                        const updateDate = new Date(data.latestUpdate);
                        latestUpdateText = updateDate.toLocaleDateString('ko-KR', {
                            year: 'numeric',
                            month: '2-digit',
                            day: '2-digit'
                        });
                    }
                    
                    if (latestUpdateElement) {
                        latestUpdateElement.textContent = latestUpdateText;
                    }
                }
            } catch (error) {
                console.error('통계 로드 오류:', error);
                // 에러 시 기본값 표시
                statsElements.forEach(id => {
                    const element = document.getElementById(id);
                    if (element) {
                        element.textContent = '0';
                    }
                });
                document.getElementById('latestUpdate').textContent = '오류';
            }
        }

        // 과목 목록 로드
        async function loadSubjects() {
            try {
                const response = await fetch('/api/problems/subjects');
                const data = await response.json();
                
                if (data.success) {
                    const subjectGrid = document.getElementById('subjectGrid');
                    
                    subjectGrid.innerHTML = data.subjects.map(subject => `
                        <div class="subject-card" onclick="location.href='/problems.html?subject=${encodeURIComponent(subject.name)}'">
                            <div class="card-cover">
                                <div class="card-header">
                                    <span>${subject.category || subject.name}</span>
                                </div>
                                <div class="card-content">
                                    <h3>${subject.name}</h3>
                                    <p>${subject.description}</p>
                                    <div class="card-stats">
                                        <span>${subject.problem_count || 0}문제</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    `).join('');
                }
            } catch (error) {
                console.error('과목 로드 오류:', error);
            }
        }



        // 페이지 로드 시 실행 (안정적인 순차 처리)
        document.addEventListener('DOMContentLoaded', () => {
            // 로그인 성공 상태 확인
            const urlParams = new URLSearchParams(window.location.search);
            const loginStatus = urlParams.get('login');
            
            if (loginStatus === 'success') {
                // URL에서 파라미터 제거
                window.history.replaceState({}, document.title, window.location.pathname);
            }
            
            // 즉시 실행할 작업
            checkAuthStatus();
            
            // 안정적인 순차 처리로 복원
            setTimeout(() => {
                loadStats();
            }, 100);
            
            setTimeout(() => {
                loadSubjects();
            }, 200);
        });
    </script>
</body>
</html> 